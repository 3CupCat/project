<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="checkWin(myTest, chessType[step % 2], checkModule)">checkWin</button>
    <script>
        var step = 0; //0為O，1為X
        var myTest = [0, 0];
        var testArr = [['O', 'X', 'O'], ['X', 'O', 'X'], ['X', 'O', 'O']];
        var checkModule = [[0, 1], [1, 0], [1, 1], [1, -1]];
        chessType = ['O', 'X'];
        console.log(testArr);
        // 送當前位置(假設為0,0)、棋子(假設為O)、檢查機制
        function checkWin(arr, chessType, checkModuleArr) {
            var cnt = 1; // 記錄連線數
            let checkMode = 0;
            for (let i = 0; i < 4; i++) {
                checkMode = checkModuleArr[i];
                for (let j = 1; j < 3; j++) {
                    var newX = arr[0] + j * checkMode[0];
                    var newY = arr[1] + j * checkMode[1];
                    if (newX >= 0 && newX < 3 && newY >= 0 && newY < 3 && testArr[newX][newY] == chessType) {
                        cnt++;
                    }
                    else {
                        break;
                    }
                }
                for (let j = 1; j < 3; j++) {
                    var newX = arr[0] - j * checkMode[0];
                    var newY = arr[1] - j * checkMode[1];
                    if (newX >= 0 && newX < 3 && newY >= 0 && newY < 3 && testArr[newX][newY] == chessType) {
                        cnt++;
                    }
                    else {
                        break;
                    }
                }
            }
            if (cnt >= 3) {
                console.log(`cnt為${cnt}`);
            }
        }
    </script>
</body>

</html>